<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissor</title>
        <link rel="stylesheet" href="css/style.css">

    </head>
    <body>
        <h1 style="text-align: center;">Play rock paper scissor<br/>Score 5 points to win</h1>
        <div id="buttons">
            <button id ="rock" class="rock">ROCK</button>
            <button id="paper" class="paper">PAPER</button>
            <button id="scissor" class="scissor">SCISSOR</button>

        </div>
        <div id="msg">
            <div class="scoreOfGame">
            
                <p id="yourScore"></p>
                <p id="computerScore"></p>
            </div>
             <div class="text">
                <p id="update"></p>
                <p id ="status"></p>
            </div>

            

        </div>
        <script>
            let pscore = 0;
            let cscore = 0;
            const status = document.querySelector('#status');
            const playerScore = document.querySelector('#yourScore');
            const computerScore = document.querySelector('#computerScore');
            const div = document.querySelector('#msg');
            const rbutton = document.querySelector('#rock');
            const pbutton = document.querySelector('#paper');
            const sbutton = document.querySelector('#scissor');

            const para = document.querySelector('#update');

            rbutton.addEventListener("click",function(){
                let playerSelection="rock";
                let computerSelection=computerPlay();
                abc(playerSelection,computerSelection);
            });
            pbutton.addEventListener("click",function(){
                let playerSelection="paper";
                let computerSelection=computerPlay();
                abc(playerSelection,computerSelection);
            });
            sbutton.addEventListener("click",function(){
                let playerSelection="scissors";
                let computerSelection=computerPlay();
                abc(playerSelection,computerSelection);
               
                
            });

            function abc(playerSelection,computerSelection){
                score(playerSelection,computerSelection);
                if (pscore>=5){
                    status.textContent="CONGRATULATIONS! YOU WON THE GAME";
                    pscore=0;
                    cscore=0;
                }else if (cscore>=5){
                    status.textContent="YOU LOSE THE GAME!,WANNA TRY AGAIN";
                    cscore=0;
                    pscore=0;
                }
                if(pscore==1 || cscore==1 || playRound(playerSelection,computerSelection)=="match draw"){
                    status.textContent=" ";
                }
                para.innerHTML = "Player Selection: "+ playerSelection + "<br/> Computer Selection: " + computerSelection + "<br/>"+"Result: "+ playRound(playerSelection, computerSelection)+"";
                                        

            
                computerScore.textContent=`COMPUTER SCORE: ${cscore}`;       
                playerScore.textContent=`PLAYER SCORE: ${pscore}`;
                
            }

            function computerPlay(){
                let x=Math.floor(Math.random()*3);
                if (x==0){
                    return "rock";
                }
                else if (x==1){
                    return "paper";
                }
                else{
                    return "scissors";
                }
            }

            function playRound(playerSelection, computerSelection){
                let ps=playerSelection.toLowerCase();
                let cs=computerSelection.toLowerCase();
                if (cs=="rock"){
                    if (ps=="rock"){
                        return "match draw";
                    }
                    else if(ps=="paper"){
                        return "you won!";
                    }
                    else if (ps=="scissors"){
                        return "you loss";
                    }
                    else{
                        return "wrong value";
                    }
                }
                
                    if (cs=="paper"){
                    if (ps=="rock"){
                        return "you lose";
                    }
                    else if(ps=="paper"){
                        return "match draw";
                    }
                    else if (ps=="scissors"){
                        return "you won!";
                    }
                    else{
                        return "wrong value";
                    }
                    }

                    
                    if (cs=="scissors"){
                    if (ps=="rock"){
                        return "you won!";
                    }
                    else if(ps=="paper"){
                        return "you lose";
                    }
                    else if (ps=="scissors"){
                        return "match draw";
                    }
                    else{
                        return "wrong value";
                    }
                    }
            }
            

            function score(playerSelection,computerSelection){
                ans=playRound(playerSelection,computerSelection);
                if (ans == "you won!"){
                    pscore+=1;
                }else if (ans=="you lose"){
                    cscore+=1;
                }

            }



        </script>

    </body>
    
</html>